<svg id="SvgjsSvg1006" width="790.5070190429688" height="570.0035095214844" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs"><defs id="SvgjsDefs1007"><marker id="SvgjsMarker1030" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1031" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1035" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1036" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1044" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1045" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1049" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1050" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1054" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1055" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1059" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1060" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1068" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1069" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1076" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1077" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1081" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1082" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1090" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1091" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker></defs><g id="SvgjsG1008" transform="translate(39.83020697699661,226.63193935818128)"><path id="SvgjsPath1009" d="M 0 0L 622.2222222222222 0L 622.2222222222222 387.2222222222224L 0 387.2222222222224Z" stroke="#323232" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1010"><foreignObject id="SvgjsForeignObject1011" width="602.2222222222222" height="16" x="10" style="overflow:visible;" y="185.6111111111112"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 400; line-height: 16px; width: 602.222px; word-break: break-word; border: 0px;"></div></foreignObject></g></g><g id="SvgjsG1012" transform="translate(214.7427372484663,34.40971713595928)"><path id="SvgjsPath1013" d="M 0 0L 182.22222222222229 0L 182.22222222222229 127.22222222222221L 0 127.22222222222221Z" stroke="#323232" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1014"><foreignObject id="SvgjsForeignObject1015" width="162.22222222222229" height="16" x="10" style="overflow:visible;" y="55.61111111111111"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 400; line-height: 16px; width: 162.222px; word-break: break-word; border: 0px;">broker</div></foreignObject></g></g><g id="SvgjsG1016" transform="translate(429.58329339674947,394.05061337558936)"><path id="SvgjsPath1017" d="M 0 0L 100 0L 100 70L 0 70Z" stroke="#323232" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1018"><foreignObject id="SvgjsForeignObject1019" width="80" height="31" x="10" style="overflow:visible;" y="19.5"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 400; line-height: 16px; width: 80px; word-break: break-word; border: 0px;">PullMessageService</div></foreignObject></g></g><g id="SvgjsG1020" transform="translate(215.1403731102082,394.0573399027567)"><path id="SvgjsPath1021" d="M 0 0L 100 0L 100 70L 0 70Z" stroke="#323232" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1022"><foreignObject id="SvgjsForeignObject1023" width="80" height="31" x="10" style="overflow:visible;" y="19.5"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 400; line-height: 16px; width: 80px; word-break: break-word; border: 0px;">pullRequestQueue</div></foreignObject></g></g><g id="SvgjsG1024" transform="translate(56.483156222537644,258.939589690015)"><path id="SvgjsPath1025" d="M 0 0L 100 0L 100 70L 0 70Z" stroke="#323232" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1026"><foreignObject id="SvgjsForeignObject1027" width="80" height="31" x="10" style="overflow:visible;" y="19.5"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 400; line-height: 16px; width: 80px; word-break: break-word; border: 0px;">RebalanceService</div></foreignObject></g></g><g id="SvgjsG1028"><path id="SvgjsPath1029" d="M156.48315622253767 293.939589690015L185.81176466637294 293.939589690015L185.81176466637294 429.0573399027567L215.1403731102082 429.0573399027567" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1030)"></path><foreignObject id="SvgjsForeignObject1032" width="8" height="16" x="181.81176466637294" y="353.49846479638586"><div xmlns="http://www.w3.org/1999/xhtml" style="vertical-align: top; text-align: center; color: rgb(50, 50, 50); line-height: 16px; font-size: 13px; font-family: 微软雅黑; white-space: nowrap; display: inline-block; background: rgb(255, 255, 255);">1</div></foreignObject></g><g id="SvgjsG1033"><path id="SvgjsPath1034" d="M315.1403731102082 429.0573399027567L372.36183325347884 429.0573399027567L372.36183325347884 429.0506133755894L429.58329339674947 429.0506133755894" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1035)"></path><foreignObject id="SvgjsForeignObject1037" width="8" height="16" x="368.36183325347884" y="421.0539766391731"><div xmlns="http://www.w3.org/1999/xhtml" style="vertical-align: top; text-align: center; color: rgb(50, 50, 50); line-height: 16px; font-size: 13px; font-family: 微软雅黑; white-space: nowrap; display: inline-block; background: rgb(255, 255, 255);">2</div></foreignObject></g><g id="SvgjsG1038" transform="translate(479.6793153446231,238.2986060248479)"><path id="SvgjsPath1039" d="M 0 40L 60 0L 120 40L 60 80Z" stroke="#323232" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1040"><foreignObject id="SvgjsForeignObject1041" width="100" height="16" x="10" style="overflow:visible;" y="32.4"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 400; line-height: 16px; width: 100px; word-break: break-word; border: 0px;">流控</div></foreignObject></g></g><g id="SvgjsG1042"><path id="SvgjsPath1043" d="M479.58329339674947 394.05061337558936L479.58329339674947 356.17460970021864L539.6793153446231 356.17460970021864L539.6793153446231 318.2986060248479" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1044)"></path><foreignObject id="SvgjsForeignObject1046" width="8" height="16" x="505.6313043706863" y="348.17460970021864"><div xmlns="http://www.w3.org/1999/xhtml" style="vertical-align: top; text-align: center; color: rgb(50, 50, 50); line-height: 16px; font-size: 13px; font-family: 微软雅黑; white-space: nowrap; display: inline-block; background: rgb(255, 255, 255);">3</div></foreignObject></g><g id="SvgjsG1047"><path id="SvgjsPath1048" d="M539.6793153446231 238.2986060248479L539.6793153446231 199.4097171359591L329.1871816929106 199.4097171359591L329.1871816929106 160.52082824707037" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1049)"></path><foreignObject id="SvgjsForeignObject1051" width="8" height="16" x="430.43324851876685" y="191.4097171359591"><div xmlns="http://www.w3.org/1999/xhtml" style="vertical-align: top; text-align: center; color: rgb(50, 50, 50); line-height: 16px; font-size: 13px; font-family: 微软雅黑; white-space: nowrap; display: inline-block; background: rgb(255, 255, 255);">4</div></foreignObject></g><g id="SvgjsG1052"><path id="SvgjsPath1053" d="M305.85384835957746 161.6319393581815L305.85384835957746 316.0427511667887L446.4968736436632 316.0427511667887L446.4968736436632 394.89800741984106" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1054)"></path><foreignObject id="SvgjsForeignObject1056" width="8" height="16" x="334.3975832238429" y="308.0427511667887"><div xmlns="http://www.w3.org/1999/xhtml" style="vertical-align: top; text-align: center; color: rgb(50, 50, 50); line-height: 16px; font-size: 13px; font-family: 微软雅黑; white-space: nowrap; display: inline-block; background: rgb(255, 255, 255);">6</div></foreignObject></g><g id="SvgjsG1057"><path id="SvgjsPath1058" d="M479.6793153446231 278.2986060248479L242.05242919921875 278.2986060248479L242.05242919921875 394.96527269151477" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1059)"></path><foreignObject id="SvgjsForeignObject1061" width="8" height="16" x="298.5325389385875" y="270.2986060248479"><div xmlns="http://www.w3.org/1999/xhtml" style="vertical-align: top; text-align: center; color: rgb(50, 50, 50); line-height: 16px; font-size: 13px; font-family: 微软雅黑; white-space: nowrap; display: inline-block; background: rgb(255, 255, 255);">              5</div></foreignObject></g><g id="SvgjsG1062" transform="translate(649.2746514214409,56.63193935818134)"><path id="SvgjsPath1063" d="M 25.93333333333333 78.16666666666671C -21.61111111111111 55.83333333333337 8.644444444444444 39.08333333333336 19.449999999999996 33.50000000000002C 15.127777777777778 5.5833333333333375 69.15555555555555 0 90.76666666666665 11.166666666666675C 108.05555555555554 -5.5833333333333375 162.08333333333331 0 162.08333333333331 16.75000000000001C 205.30555555555551 11.166666666666675 222.59444444444443 33.50000000000002 205.30555555555551 61.416666666666714C 220.4333333333333 83.75000000000006 205.30555555555551 111.66666666666674 155.59999999999997 100.50000000000007C 144.79444444444442 115.01666666666675 101.57222222222221 115.01666666666675 90.76666666666665 100.50000000000007C 69.15555555555555 111.66666666666674 25.93333333333333 106.0833333333334 25.93333333333333 78.16666666666671Z" stroke="#323232" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1064"><foreignObject id="SvgjsForeignObject1065" width="196.1111111111111" height="62" x="10" style="overflow:visible;" y="24.83333333333337"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 400; line-height: 16px; width: 196.111px; word-break: break-word; border: 0px;">流控有两种情况：<div>1.缓存消息个数</div><div>2.缓存消息大小</div><div>3.（并发消息：消息跨度）</div></div></foreignObject></g></g><g id="SvgjsG1066"><path id="SvgjsPath1067" d="M748.0391316483942 162.21569436551647L748.0391316483942 278.2986060248479L599.6793153446231 278.2986060248479" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1068)"></path></g><g id="SvgjsG1070" transform="translate(429.18548818412944,525.52082824707)"><path id="SvgjsPath1071" d="M 0 0L 100 0L 100 70L 0 70Z" stroke="#323232" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1072"><foreignObject id="SvgjsForeignObject1073" width="80" height="31" x="10" style="overflow:visible;" y="19.5"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 400; line-height: 16px; width: 80px; word-break: break-word; border: 0px;">consumeExecutor</div></foreignObject></g></g><g id="SvgjsG1074"><path id="SvgjsPath1075" d="M479.58329339674947 464.05061337558936L479.58329339674947 494.7857208113296L479.18548818412944 494.7857208113296L479.18548818412944 525.52082824707" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1076)"></path><foreignObject id="SvgjsForeignObject1078" width="8" height="16" x="475.3843907904394" y="486.7857208113296"><div xmlns="http://www.w3.org/1999/xhtml" style="vertical-align: top; text-align: center; color: rgb(50, 50, 50); line-height: 16px; font-size: 13px; font-family: 微软雅黑; white-space: nowrap; display: inline-block; background: rgb(255, 255, 255);">7</div></foreignObject></g><g id="SvgjsG1079"><path id="SvgjsPath1080" d="M429.83020697699646 452.7430504692925L372.05242919921875 452.7430504692925L372.05242919921875 452.7430504692925L314.274651421441 452.7430504692925" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1081)"></path><foreignObject id="SvgjsForeignObject1083" width="8" height="16" x="368.05242919921875" y="444.7430504692925"><div xmlns="http://www.w3.org/1999/xhtml" style="vertical-align: top; text-align: center; color: rgb(50, 50, 50); line-height: 16px; font-size: 13px; font-family: 微软雅黑; white-space: nowrap; display: inline-block; background: rgb(255, 255, 255);">8</div></foreignObject></g><g id="SvgjsG1084" transform="translate(727.052429199219,381.07638380262586)"><path id="SvgjsPath1085" d="M 10.799999999999999 49C -9 35 3.6 24.5 8.1 21C 6.300000000000001 3.5 28.8 0 37.8 7C 45 -3.5 67.5 0 67.5 10.5C 85.5 7 92.7 21 85.5 38.5C 91.8 52.5 85.5 70 64.8 63C 60.300000000000004 72.10000000000001 42.3 72.10000000000001 37.8 63C 28.8 70 10.799999999999999 66.5 10.799999999999999 49Z" stroke="#323232" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1086"><foreignObject id="SvgjsForeignObject1087" width="70" height="16" x="10" style="overflow:visible;" y="27"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 400; line-height: 16px; width: 70px; word-break: break-word; border: 0px;">消费者</div></foreignObject></g></g><g id="SvgjsG1088"><path id="SvgjsPath1089" d="M727.052429199219 416.07638380262586L693.9968736436633 416.07638380262586L693.9968736436633 379.40971713595917L660.9413180881077 379.40971713595917" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1090)"></path></g></svg>